{% extends 'base_app.html.twig' %}

{% block title %}Historique de vos accident{% endblock %}

{% block body %}
    <div class="container mx-auto p-4 shadow rounded-xl">
        <h1 class="text-display-xs font-semibold mb-5">
            Historique de mes accidents
        </h1>
        <div class="md:flex">
            <div class="flex-1 py-3 text-medium text-gray-500 dark:text-gray-400 dark:bg-gray-800 rounded-xl w-full">
                <div class="col-span-full relative overflow-x-scroll sm:overflow-x-auto ">
                    <div class="flex flex-col">
                        <div class="overflow-x-auto rounded-xl">
                            <div class="block sm:inline-block min-w-full">
                                <div class="shadow">
                                    <table class="min-w-full divide-y divide-gray-200 table-auto dark:divide-gray-600">
                                        <thead class="text-xs text-gray-700 bg-gray-100 dark:bg-gray-700 dark:text-gray-400">
                                            <tr>
                                                <th scope="col" class="py-2 px-2 text-left">Voitures</th>
                                                <th scope="col" class="py-2 text-left">Description</th>
                                                <th scope="col" class="py-2 text-left">Date</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                        {% for accident_history in accidents_history %}
                                        <tr class="bg-white text-neutral-800 border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600">
                                            <td colspan="row" class="px-2">{{ accident_history.car.brand }} - {{ accident_history.car.model }}</td>
                                            <td colspan="row">
                                                <p class="text-secondary">{{ accident_history.description }}</p>
                                            </td>
                                            <td colspan="row">
                                                <span class="status status-success">{{ accident_history.date|date('d/m/Y') }}
                                                </span>
                                            </td>
                                        </tr>
                                        {% else %}
                                        <tr>
                                            <td colspan="6" class="text-center fs-3">Aucun historique</td>
                                        </tr>
                                        {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}